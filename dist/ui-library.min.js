var UILibrary=function(){"use strict";function t(t,e){const o=function(t){const e=document.createElement("template");return e.innerHTML=t.trim(),e.content.cloneNode(!0)}(t);return e.appendChild(o),o}function e(t,e,o=[]){try{if(!("CSSStyleSheet"in window)||!("replaceSync"in CSSStyleSheet.prototype))return!1;const s=new CSSStyleSheet;return s.replaceSync(e),o.length>0?t.adoptedStyleSheets=[...o,s]:t.adoptedStyleSheets=[s],!0}catch(t){return console.error("Error applying styles with Constructable Stylesheets:",t),!1}}class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),e(this.shadowRoot,":host{--toast-success-color:var(--pico-color-success,#10B981);--toast-error-color:var(--pico-color-error,#EF4444);--toast-info-color:var(--pico-primary,#3B82F6);--toast-warning-color:var(--pico-color-warning,#F59E0B);--toast-surface-color:white;--toast-text-color:white;--toast-shadow:var(--pico-card-shadow,0 4px 12px rgba(0,0,0,0.15));--toast-border-radius:var(--pico-border-radius,8px);--toast-font-family:var(--pico-font-family,sans-serif);--toast-font-size:16px;position:fixed !important;bottom:20px;right:20px;z-index:9999;display:block;background-color:transparent;min-width:300px;max-width:500px;transition:transform 0.3s ease,opacity 0.3s ease;transform:translateY(20px);opacity:0;pointer-events:none;}:host(.visible){transform:translateY(0);opacity:1;pointer-events:all;}.toast{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-radius:var(--toast-border-radius);background:var(--toast-surface-color);box-shadow:var(--toast-shadow);font-family:var(--toast-font-family);font-size:var(--toast-font-size);}:host(.toast-success) .toast{background-color:var(--toast-success-color);color:white;}:host(.toast-error) .toast{background-color:var(--toast-error-color);}:host(.toast-info) .toast{background-color:var(--toast-info-color);}:host(.toast-warning) .toast{background-color:var(--toast-warning-color);}.toast-icon{margin-right:12px;color:var(--toast-text-color);}.message{flex:1;color:var(--toast-text-color);}.close-btn{background:none;border:none;cursor:pointer;font-size:18px;margin-left:8px;padding:4px;color:var(--toast-text-color);}.close-btn svg{width:18px;height:18px;fill:currentColor;}@media (max-width:600px){:host{min-width:auto;max-width:none;width:calc(100vw - 40px);}}",document.adoptedStyleSheets),t('<div class="toast"><div class="toast-icon"><lucide-icon name="info" class="icon-type"></lucide-icon></div><span class="message"></span> <button class="close-btn" aria-label="Close"><lucide-icon name="x" size="small"></lucide-icon></button></div>',this.shadowRoot),this._duration=3e3,this._autoHide=!0,this._timerId=null,this._type="toast-info",this.messageElement=this.shadowRoot.querySelector(".message"),this.closeButton=this.shadowRoot.querySelector(".close-btn"),this.iconElement=this.shadowRoot.querySelector(".icon-type"),this.closeButton.addEventListener("click",(()=>this.hide()))}static get observedAttributes(){return["type","message","duration","auto-hide"]}connectedCallback(){this.hasAttribute("message")&&(this.messageElement.textContent=this.getAttribute("message")),this.hasAttribute("type")?this.type=this.getAttribute("type"):(this.classList.add(this._type),this._updateIcon(this._type)),this.hasAttribute("duration")&&(this._duration=parseInt(this.getAttribute("duration"),10)),this.hasAttribute("auto-hide")&&(this._autoHide="false"!==this.getAttribute("auto-hide"))}attributeChangedCallback(t,e,o){"message"===t&&this.messageElement?this.messageElement.textContent=o:"type"===t&&o?this.type=o:"duration"===t&&o?this._duration=parseInt(o,10):"auto-hide"===t&&(this._autoHide="false"!==o)}_updateIcon(t){if(this.iconElement){const e=t.replace("toast-","")||"info";this.iconElement.setAttribute("name",e),this.iconElement.setAttribute("variant",e)}}get type(){return this._type.replace("toast-","")}set type(t){this._type&&this.classList.remove(this._type),this._type=`toast-${t}`,this.classList.add(this._type),this._updateIcon(t)}get message(){return this.messageElement?this.messageElement.textContent:""}set message(t){this.messageElement&&(this.messageElement.textContent=t)}get duration(){return this._duration}set duration(t){this._duration=t}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=t}show(){return this._visible||(this._visible=!0,this.classList.add("visible"),this.dispatchEvent(new CustomEvent("toast:shown")),this._repositionAllToasts(),this._autoHide&&this._duration>0&&(this._timerId=setTimeout((()=>{this.hide()}),this._duration))),this}hide(){return this._visible?(this._visible=!1,this.classList.remove("visible"),this._timerId&&(clearTimeout(this._timerId),this._timerId=null),setTimeout((()=>{this.dispatchEvent(new CustomEvent("toast:hidden")),this.parentNode&&this.parentNode.removeChild(this),this._repositionAllToasts()}),300),this):this}_repositionAllToasts(){const t=document.querySelectorAll("toast-element");let e=0;Array.from(t).reverse().forEach((t=>{t.style.bottom=`${20+e}px`,t.style.right="20px",e+=t.scrollHeight+10}))}}function s(t={}){const{message:e="",type:o="info",duration:s=3e3,autoHide:n=!0}=t,i=document.createElement("toast-element");return i.message=e,i.type=o,i.duration=s,i.autoHide=n,document.body.appendChild(i),i.show(),i.addEventListener("toast:hidden",(()=>{setTimeout((()=>{document.body.contains(i)&&document.body.removeChild(i)}),200)})),i}"undefined"!=typeof module&&module.exports&&(module.exports={ToastElement:o,showToast:s}),"undefined"!=typeof window&&(window.ToastElement=o,window.showToast=s);class n extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),e(this.shadowRoot,'.toggle{background:var(--surface);border:1px solid var(--border);padding:0.5rem 1rem;border-radius:0.5rem;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;}.dark{display:none;}:host-context([data-theme="dark"]) .light{display:none;}:host-context([data-theme="dark"]) .dark{display:inline;}',document.adoptedStyleSheets),t('<button class="toggle"><lucide-icon name="sun" variant="primary" class="light"></lucide-icon><lucide-icon name="moon" variant="primary" class="dark"></lucide-icon></button>',this.shadowRoot),this.initializeTheme()}initializeTheme(){const t=localStorage.getItem("theme");if(t)document.documentElement.setAttribute("data-theme",t);else{const t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",t?"dark":"light"),localStorage.setItem("theme",t?"dark":"light")}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(t=>{if(!localStorage.getItem("theme")){const e=t.matches?"dark":"light";document.documentElement.setAttribute("data-theme",e)}}))}setupListeners(){this.shadowRoot.querySelector(".toggle").addEventListener("click",(()=>{const t="dark"===document.documentElement.getAttribute("data-theme");document.documentElement.setAttribute("data-theme",t?"light":"dark"),localStorage.setItem("theme",t?"light":"dark")}))}connectedCallback(){this.setupListeners()}}const i={menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',home:'<path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',settings:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>',moon:'<path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>',sun:'<circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/>',success:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',warning:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',error:'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>'};class r extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),e(this.shadowRoot,':host{display:inline-flex;width:24px;height:24px;}:host([size="small"]){width:16px;height:16px;}:host([size="large"]){width:32px;height:32px;}.icon{width:100%;height:100%;color:var(--icon-color,currentColor);transition:all 0.2s ease;}:host([variant="primary"]) .icon{color:var(--primary,#3b82f6);}:host([variant="muted"]) .icon{color:var(--text-secondary,#6b7280);}',document.adoptedStyleSheets),t('<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg>',this.shadowRoot),this.svgElement=this.shadowRoot.querySelector("svg")}static get observedAttributes(){return["name","size","variant","color"]}connectedCallback(){this.render()}attributeChangedCallback(t,e,o){e!==o&&this.render()}render(){const t=this.getAttribute("name"),e=this.getAttribute("color"),o=i[t]||"";this.svgElement&&(this.svgElement.innerHTML=o,this.svgElement.style.color=e||"")}}class a{static handleErrors(t){t.errors&&(a.clearErrors(),t.errors.forEach((t=>{if(!t.extensions||!t.extensions.field)return;const e=t.extensions.field,o=document.querySelector(`[name="${e}"]`);if(!o)return void console.warn(`Input element with name "${e}" not found. Adding error to form.`);const s=o.parentElement;if(!s)return console.warn(`Parent element for input "${e}" not found. Adding error directly.`),void a.addError(o,t.message);a.addError(s,t.message)})))}static addError(t,e){const o="INPUT"===t.tagName?t:t.querySelector("input, select, textarea");if(o){o.setAttribute("aria-invalid","true");const t=`${o.name}-helper`;o.setAttribute("aria-describedby",t);let s=document.getElementById(t);s||(s=document.createElement("small"),s.id=t,o.nextElementSibling?o.parentNode.insertBefore(s,o.nextElementSibling):o.parentNode.appendChild(s)),s.dataset.originalText||(s.dataset.originalText=s.textContent),s.textContent=e}else{const o=document.createElement("p");o.className="error-message",o.setAttribute("role","alert"),o.textContent=e,t.prepend(o)}}static clearErrors(){document.querySelectorAll('[aria-invalid="true"]').forEach((t=>{t.removeAttribute("aria-invalid");const e=t.getAttribute("aria-describedby");if(e){const t=document.getElementById(e);t&&t.dataset.originalText&&(t.textContent=t.dataset.originalText,delete t.dataset.originalText)}})),document.querySelectorAll(".error-message").forEach((t=>{t.remove()}))}}class l{static handleResponse(t,e=4e3){return t.errors&&t.errors.length>0?t.errors.forEach((t=>{s({type:"error",message:t.message||"An error occurred",duration:e})})):t.extensions&&t.extensions.successMessage&&s({type:"success",message:t.extensions.successMessage,duration:e}),t.data}static registerHtmxExtension(){"undefined"!=typeof htmx?htmx.defineExtension("graphql-toast",{onEvent:function(t,e){if("htmx:configRequest"===t){e.detail.headers.Accept="application/json";const t=new URLSearchParams(document.location.search);for(const[o,s]of t.entries())e.detail.parameters[o]=s}if("htmx:beforeRequest"===t&&a.clearErrors(),"htmx:beforeSwap"===t){const t=e.detail.xhr;if(t.getResponseHeader("Content-Type")?.includes("application/json"))try{const o=JSON.parse(t.responseText);if(o&&(void 0!==o.data||o.errors))if(l.handleResponse(o),a.handleErrors(o),o.extensions&&o.extensions.html)e.detail.serverResponse=o.extensions.html;else if(!o.data&&o.errors)return e.detail.shouldSwap=!1,!0}catch(t){console.error("Error processing JSON response:",t)}}}}):console.warn("HTMX not found, GraphQL extension not loaded")}}async function c(){document.body.style.opacity=0;try{const t=new CSSStyleSheet;return t.replaceSync("\n      :root {\n        --toast-border-radius: 8px;\n        /* More custom variables... */\n      }\n    "),document.adoptedStyleSheets=[t],customElements.get("toast-element")||customElements.define("toast-element",o),customElements.get("theme-toggle")||customElements.define("theme-toggle",n),customElements.get("lucide-icon")||customElements.define("lucide-icon",r),window.htmx&&l.registerHtmxExtension(),document.body.style.opacity=1,!0}catch(t){return console.error("UI Library initialization failed:",t),document.body.style.opacity=1,!1}}const d={initialize:c,ToastElement:o,ThemeToggle:n,GraphQLToastHandler:l,FormErrorHandler:a};return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c(),window.UILibrary=d,d}();
//# sourceMappingURL=ui-library.min.js.map
