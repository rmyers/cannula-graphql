{"version":3,"file":"ui-library.esm.js","sources":["../src/template-loader.js","../src/components/toast/toast.js","../src/components/theme-toggle/theme-toggle.js","../src/components/icons/lucide-icon.js","../src/components/forms.js","../src/index.js"],"sourcesContent":["/**\n * Template processing utilities for web components\n */\n\n/**\n * Creates a document fragment from HTML string\n *\n * @param {string} html - HTML string to convert to DocumentFragment\n * @returns {DocumentFragment} Document fragment containing the parsed HTML\n */\nexport function htmlToFragment(html) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = html.trim();\n  return template.content.cloneNode(true);\n}\n\n/**\n * Loads component template from an HTML file\n * This works with rollup-plugin-html which converts HTML imports to strings\n *\n * @param {string} htmlString - Imported HTML string\n * @param {ShadowRoot} shadowRoot - The shadow root to append the template to\n * @returns {DocumentFragment} Document fragment of the parsed template\n */\nexport function loadTemplate(htmlString, shadowRoot) {\n  const fragment = htmlToFragment(htmlString);\n  shadowRoot.appendChild(fragment);\n  return fragment;\n}\n\n/**\n * Combines HTML template with inline styles\n *\n * @param {string} htmlString - Imported HTML string\n * @param {string} cssString - Imported CSS string\n * @returns {string} Combined HTML with inline <style> element\n */\nexport function combineTemplateWithStyles(htmlString, cssString) {\n  // If the HTML already has a <style> tag, append to it\n  if (htmlString.includes(\"<style>\")) {\n    return htmlString.replace(\"<style>\", `<style>${cssString}`);\n  }\n\n  // Otherwise add the style tag at the beginning\n  return `<style>${cssString}</style>${htmlString}`;\n}\n\n/**\n * Applies styles to a shadow root using Constructable Stylesheets if supported\n *\n * @param {ShadowRoot} shadowRoot - The shadow root to apply styles to\n * @param {string} cssString - CSS string to apply\n * @param {CSSStyleSheet[]} documentSheets - Optional array of document stylesheets to inherit\n * @returns {boolean} True if styles were applied using Constructable Stylesheets\n */\nexport function applyStyles(shadowRoot, cssString, documentSheets = []) {\n  try {\n    // Check if Constructable Stylesheets are supported\n    if (\n      !(\"CSSStyleSheet\" in window) ||\n      !(\"replaceSync\" in CSSStyleSheet.prototype)\n    ) {\n      return false;\n    }\n\n    // Create component-specific stylesheet\n    const componentSheet = new CSSStyleSheet();\n    componentSheet.replaceSync(cssString);\n\n    // Apply document stylesheets + component stylesheet\n    if (documentSheets.length > 0) {\n      shadowRoot.adoptedStyleSheets = [...documentSheets, componentSheet];\n    } else {\n      // Just use component styles if no document stylesheets provided\n      shadowRoot.adoptedStyleSheets = [componentSheet];\n    }\n\n    return true;\n  } catch (error) {\n    console.error(\n      \"Error applying styles with Constructable Stylesheets:\",\n      error,\n    );\n    return false;\n  }\n}\n","import { applyStyles, loadTemplate } from \"../../template-loader.js\";\nimport toastTemplate from \"./toast.html\";\nimport toastStyles from \"./toast.css\";\n\n/**\n * Toast notification component\n * @element toast-element\n * @attr {string} type - Toast type: 'success', 'error', 'info', 'warning'\n * @attr {string} message - Toast message text\n * @attr {number} duration - Display duration in milliseconds\n * @attr {boolean} auto-hide - Whether to automatically hide the toast\n */\nexport class ToastElement extends HTMLElement {\n  constructor() {\n    super();\n\n    // Create shadow DOM\n    this.attachShadow({ mode: \"open\" });\n\n    // Apply styles\n    applyStyles(this.shadowRoot, toastStyles, document.adoptedStyleSheets);\n    loadTemplate(toastTemplate, this.shadowRoot);\n\n    // Initialize properties\n    this._duration = 3000;\n    this._autoHide = true;\n    this._timerId = null;\n    this._type = \"toast-info\";\n\n    // Get required elements\n    this.messageElement = this.shadowRoot.querySelector(\".message\");\n    this.closeButton = this.shadowRoot.querySelector(\".close-btn\");\n    this.iconElement = this.shadowRoot.querySelector(\".icon-type\");\n\n    // Add event listener for close button\n    this.closeButton.addEventListener(\"click\", () => this.hide());\n  }\n\n  /**\n   * Web component lifecycle: When attributes change\n   */\n  static get observedAttributes() {\n    return [\"type\", \"message\", \"duration\", \"auto-hide\"];\n  }\n\n  /**\n   * Web component lifecycle: Component added to DOM\n   */\n  connectedCallback() {\n    // Initialize from attributes if present\n    if (this.hasAttribute(\"message\")) {\n      this.messageElement.textContent = this.getAttribute(\"message\");\n    }\n\n    if (this.hasAttribute(\"type\")) {\n      this.type = this.getAttribute(\"type\");\n    } else {\n      // Apply default type\n      this.classList.add(this._type);\n      // Set default icon\n      this._updateIcon(this._type);\n    }\n\n    if (this.hasAttribute(\"duration\")) {\n      this._duration = parseInt(this.getAttribute(\"duration\"), 10);\n    }\n\n    if (this.hasAttribute(\"auto-hide\")) {\n      this._autoHide = this.getAttribute(\"auto-hide\") !== \"false\";\n    }\n  }\n\n  /**\n   * Web component lifecycle: Attribute changed\n   */\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === \"message\" && this.messageElement) {\n      this.messageElement.textContent = newValue;\n    } else if (name === \"type\" && newValue) {\n      this.type = newValue;\n    } else if (name === \"duration\" && newValue) {\n      this._duration = parseInt(newValue, 10);\n    } else if (name === \"auto-hide\") {\n      this._autoHide = newValue !== \"false\";\n    }\n  }\n\n  /**\n   * Update the icon based on toast type\n   * @private\n   */\n  _updateIcon(type) {\n    if (this.iconElement) {\n      // Map toast type to icon name\n      const iconName = type.replace(\"toast-\", \"\") || \"info\";\n      this.iconElement.setAttribute(\"name\", iconName);\n      this.iconElement.setAttribute(\"variant\", iconName);\n    }\n  }\n\n  /**\n   * Type getter\n   */\n  get type() {\n    return this._type.replace(\"toast-\", \"\");\n  }\n\n  /**\n   * Type setter\n   */\n  set type(value) {\n    if (this._type) {\n      this.classList.remove(this._type);\n    }\n\n    this._type = `toast-${value}`;\n    this.classList.add(this._type);\n\n    // Update the icon when type changes\n    this._updateIcon(value);\n  }\n\n  /**\n   * Message getter\n   */\n  get message() {\n    return this.messageElement ? this.messageElement.textContent : \"\";\n  }\n\n  /**\n   * Message setter\n   */\n  set message(value) {\n    if (this.messageElement) {\n      this.messageElement.textContent = value;\n    }\n  }\n\n  /**\n   * Duration getter\n   */\n  get duration() {\n    return this._duration;\n  }\n\n  /**\n   * Duration setter\n   */\n  set duration(value) {\n    this._duration = value;\n  }\n\n  /**\n   * Auto-hide getter\n   */\n  get autoHide() {\n    return this._autoHide;\n  }\n\n  /**\n   * Auto-hide setter\n   */\n  set autoHide(value) {\n    this._autoHide = value;\n  }\n\n  /**\n   * Show the toast notification\n   * @returns {ToastElement} This instance for chaining\n   */\n  show() {\n    if (this._visible) return this;\n\n    this._visible = true;\n    this.classList.add(\"visible\");\n\n    // Dispatch shown event\n    this.dispatchEvent(new CustomEvent(\"toast:shown\"));\n\n    // Reposition all toasts\n    this._repositionAllToasts();\n\n    if (this._autoHide && this._duration > 0) {\n      this._timerId = setTimeout(() => {\n        this.hide();\n      }, this._duration);\n    }\n\n    return this;\n  }\n\n  /**\n   * Hide the toast notification\n   * @returns {ToastElement} This instance for chaining\n   */\n  hide() {\n    if (!this._visible) return this;\n\n    this._visible = false;\n    this.classList.remove(\"visible\");\n\n    if (this._timerId) {\n      clearTimeout(this._timerId);\n      this._timerId = null;\n    }\n\n    // Add a small delay to allow for animation, matching GraphQLToast\n    setTimeout(() => {\n      // Dispatch hidden event\n      this.dispatchEvent(new CustomEvent(\"toast:hidden\"));\n\n      // If this is from auto-hide, remove the element from DOM\n      if (this.parentNode) {\n        this.parentNode.removeChild(this);\n      }\n\n      // Reposition remaining toasts\n      this._repositionAllToasts();\n    }, 300); // Match this delay with CSS transition time\n\n    return this;\n  }\n\n  /**\n   * Reposition all toasts to stack properly\n   * @private\n   */\n  _repositionAllToasts() {\n    const toasts = document.querySelectorAll(\"toast-element\");\n    const spaceBetweenToasts = 10; // Margin between toasts in pixels\n    let cumulativeHeight = 0;\n\n    // Convert NodeList to Array and reverse to start from the bottom\n    // This way we process toasts from bottom to top\n    Array.from(toasts)\n      .reverse()\n      .forEach((toast) => {\n        // Position this toast above the previous ones\n        toast.style.bottom = `${20 + cumulativeHeight}px`;\n        toast.style.right = \"20px\";\n\n        // Add this toast's height to the cumulative height\n        cumulativeHeight += toast.scrollHeight + spaceBetweenToasts;\n      });\n  }\n}\n\n// Helper function\nexport function showToast(options = {}) {\n  const {\n    message = \"\",\n    type = \"info\",\n    duration = 3000,\n    autoHide = true,\n  } = options;\n\n  const toast = document.createElement(\"toast-element\");\n  toast.message = message;\n  toast.type = type;\n  toast.duration = duration;\n  toast.autoHide = autoHide;\n\n  document.body.appendChild(toast);\n  toast.show();\n\n  toast.addEventListener(\"toast:hidden\", () => {\n    setTimeout(() => {\n      if (document.body.contains(toast)) {\n        document.body.removeChild(toast);\n      }\n    }, 200);\n  });\n\n  return toast;\n}\n\n// Export for CommonJS\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports = { ToastElement, showToast };\n}\n\n// Export for global usage\nif (typeof window !== \"undefined\") {\n  window.ToastElement = ToastElement;\n  window.showToast = showToast;\n}\n","import { applyStyles, loadTemplate } from \"../../template-loader.js\";\nimport toggleTemplate from \"./theme-toggle.html\";\nimport toggleStyles from \"./theme-toggle.css\";\n\nexport class ThemeToggle extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    // Apply styles\n    applyStyles(this.shadowRoot, toggleStyles, document.adoptedStyleSheets);\n    loadTemplate(toggleTemplate, this.shadowRoot);\n    this.initializeTheme();\n  }\n\n  initializeTheme() {\n    // Check localStorage first\n    const savedTheme = localStorage.getItem(\"theme\");\n\n    if (savedTheme) {\n      document.documentElement.setAttribute(\"data-theme\", savedTheme);\n    } else {\n      // If no saved preference, check system preference\n      const prefersDark = window.matchMedia(\n        \"(prefers-color-scheme: dark)\",\n      ).matches;\n      document.documentElement.setAttribute(\n        \"data-theme\",\n        prefersDark ? \"dark\" : \"light\",\n      );\n      localStorage.setItem(\"theme\", prefersDark ? \"dark\" : \"light\");\n    }\n\n    // Listen for system theme changes\n    window\n      .matchMedia(\"(prefers-color-scheme: dark)\")\n      .addEventListener(\"change\", (e) => {\n        if (!localStorage.getItem(\"theme\")) {\n          const newTheme = e.matches ? \"dark\" : \"light\";\n          document.documentElement.setAttribute(\"data-theme\", newTheme);\n        }\n      });\n  }\n\n  setupListeners() {\n    const toggle = this.shadowRoot.querySelector(\".toggle\");\n    toggle.addEventListener(\"click\", () => {\n      const isDark =\n        document.documentElement.getAttribute(\"data-theme\") === \"dark\";\n      document.documentElement.setAttribute(\n        \"data-theme\",\n        isDark ? \"light\" : \"dark\",\n      );\n\n      // Optionally save preference\n      localStorage.setItem(\"theme\", isDark ? \"light\" : \"dark\");\n    });\n  }\n\n  connectedCallback() {\n    this.setupListeners();\n  }\n}\n","import { applyStyles, loadTemplate } from \"../../template-loader.js\";\nimport iconTemplate from \"./lucide-icon.html\";\nimport iconStyles from \"./lucide-icon.css\";\n\n/**\n * Available icons these are copied from Lucide https://lucide.dev/icons/\n *\n * To add a new one just pick a name copy the contents of the svg here. Only include the\n * contents of the svg and remove the <svg *></svg> tags as that is added by the component.\n */\nconst icons = {\n  menu: '<line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"></line><line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line><line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"></line>',\n  home: '<path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path><polyline points=\"9 22 9 12 15 12 15 22\"></polyline>',\n  settings:\n    '<path d=\"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z\"/>',\n  moon: '<path d=\"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\"/>',\n  sun: '<circle cx=\"12\" cy=\"12\" r=\"4\"/><path d=\"M12 2v2\"/><path d=\"M12 20v2\"/><path d=\"m4.93 4.93 1.41 1.41\"/><path d=\"m17.66 17.66 1.41 1.41\"/><path d=\"M2 12h2\"/><path d=\"M20 12h2\"/><path d=\"m6.34 17.66-1.41 1.41\"/><path d=\"m19.07 4.93-1.41 1.41\"/>',\n  // Add toast notification icons\n  success:\n    '<path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path><polyline points=\"22 4 12 14.01 9 11.01\"></polyline>',\n  info: '<circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line>',\n  warning:\n    '<path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>',\n  error:\n    '<circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line>',\n  x: '<line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>',\n};\n\n/**\n * LucideIcon web component\n * @element lucide-icon\n * @attr {string} name - Icon name\n * @attr {string} size - Icon size: 'small', 'default', 'large'\n * @attr {string} variant - Icon variant: 'primary', 'success', 'error', 'info', 'warning', 'muted'\n * @attr {string} color - Custom icon color\n */\nexport class LucideIcon extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n\n    // Apply styles and load template\n    applyStyles(this.shadowRoot, iconStyles, document.adoptedStyleSheets);\n    loadTemplate(iconTemplate, this.shadowRoot);\n\n    // Get the SVG element\n    this.svgElement = this.shadowRoot.querySelector(\"svg\");\n  }\n\n  static get observedAttributes() {\n    return [\"name\", \"size\", \"variant\", \"color\"];\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      this.render();\n    }\n  }\n\n  render() {\n    const name = this.getAttribute(\"name\");\n    const color = this.getAttribute(\"color\");\n    const iconPath = icons[name] || \"\";\n\n    // Update SVG content with the selected icon\n    if (this.svgElement) {\n      this.svgElement.innerHTML = iconPath;\n\n      // Apply custom color if specified\n      if (color) {\n        this.svgElement.style.color = color;\n      } else {\n        this.svgElement.style.color = \"\";\n      }\n    }\n  }\n}\n","import { showToast } from \"./toast/toast\";\n\n// Form error handling with PicoCSS\nexport class FormErrorHandler {\n  /**\n   * Handles API error responses by adding error attributes to form elements\n   * @param {Object} errorResponse - The error response object from the API\n   */\n  static handleErrors(errorResponse) {\n    // Check if there are errors to process\n    if (!errorResponse || !errorResponse.errors) {\n      console.error(\"Invalid error response format\");\n      return;\n    }\n\n    // Reset any existing errors first\n    FormErrorHandler.clearErrors();\n\n    // Process each form's errors\n    Object.keys(errorResponse.errors).forEach((formKey) => {\n      const formErrors = errorResponse.errors[formKey];\n\n      // Process each error for this form\n      formErrors.forEach((error) => {\n        if (!error.field || !error.message) {\n          console.warn(\"Invalid error format:\", error);\n          return;\n        }\n\n        // Find the input element\n        const fieldName = error.field;\n        const inputElement = document.querySelector(`[name=\"${fieldName}\"]`);\n\n        if (!inputElement) {\n          console.warn(\n            `Input element with name \"${error.field}\" not found. Adding error to form.`,\n          );\n\n          // Find the form element\n          const formElement = document.querySelector(\n            `form[name=\"${formKey}\"], form#${formKey}, form[data-form-id=\"${formKey}\"]`,\n          );\n          if (!formElement) {\n            // If we can't find the form, look for a div with the form's ID\n            const formContainer = document.getElementById(formKey);\n            if (!formContainer) {\n              console.error(\n                `Neither form nor container for \"${formKey}\" found`,\n              );\n              return;\n            }\n\n            // Add the error to the form container\n            FormErrorHandler.addError(formContainer, error.message);\n            return;\n          }\n\n          // Add the error to the form\n          FormErrorHandler.addError(formElement, error.message);\n          return;\n        }\n\n        // Use parent element (which would be the form field container in PicoCSS)\n        const parentElement = inputElement.parentElement;\n        if (!parentElement) {\n          console.warn(\n            `Parent element for input \"${error.field}\" not found. Adding error directly.`,\n          );\n          FormErrorHandler.addError(inputElement, error.message);\n          return;\n        }\n\n        // Add error to the parent element\n        FormErrorHandler.addError(parentElement, error.message);\n      });\n    });\n  }\n\n  /**\n   * Adds an error message to an element using PicoCSS ARIA attributes\n   * @param {HTMLElement} element - The element to add the error to\n   * @param {string} message - The error message\n   */\n  static addError(element, message) {\n    // Find the input element within the container (if element is not the input itself)\n    const inputElement =\n      element.tagName === \"INPUT\"\n        ? element\n        : element.querySelector(\"input, select, textarea\");\n\n    if (inputElement) {\n      // Set ARIA attributes for PicoCSS\n      inputElement.setAttribute(\"aria-invalid\", \"true\");\n\n      // Generate a unique ID for the helper element if needed\n      const helperId = `${inputElement.name}-helper`;\n      inputElement.setAttribute(\"aria-describedby\", helperId);\n\n      // Look for existing small/helper element\n      let helperElement = document.getElementById(helperId);\n\n      // If no helper element exists, create one\n      if (!helperElement) {\n        helperElement = document.createElement(\"small\");\n        helperElement.id = helperId;\n\n        // Add the small element after the input\n        if (inputElement.nextElementSibling) {\n          inputElement.parentNode.insertBefore(\n            helperElement,\n            inputElement.nextElementSibling,\n          );\n        } else {\n          inputElement.parentNode.appendChild(helperElement);\n        }\n      }\n\n      // Store original message if this is the first error\n      if (!helperElement.dataset.originalText) {\n        helperElement.dataset.originalText = helperElement.textContent;\n      }\n\n      // Set the error message\n      helperElement.textContent = message;\n    } else {\n      // For form level errors, create a message at the top\n      const errorMsg = document.createElement(\"p\");\n      errorMsg.className = \"error-message\";\n      errorMsg.setAttribute(\"role\", \"alert\");\n      errorMsg.textContent = message;\n\n      // Add to the beginning of the form\n      element.prepend(errorMsg);\n    }\n  }\n\n  /**\n   * Clear all existing error messages and restore original helper text\n   */\n  static clearErrors() {\n    // Reset all invalid inputs\n    document.querySelectorAll('[aria-invalid=\"true\"]').forEach((input) => {\n      // Remove the attribute completely rather than setting to false\n      // This returns the input to its initial state rather than marking as explicitly valid\n      input.removeAttribute(\"aria-invalid\");\n\n      // Get the helper element\n      const helperId = input.getAttribute(\"aria-describedby\");\n      if (helperId) {\n        const helperElement = document.getElementById(helperId);\n        if (helperElement && helperElement.dataset.originalText) {\n          // Restore original helper text\n          helperElement.textContent = helperElement.dataset.originalText;\n          delete helperElement.dataset.originalText;\n        }\n      }\n    });\n\n    // Remove any form-level error messages\n    document.querySelectorAll(\".error-message\").forEach((errMsg) => {\n      errMsg.remove();\n    });\n  }\n}\n\n// Create a utility class for handling GraphQL responses\nexport class GraphQLToastHandler {\n  /**\n   * Creates and displays toast notifications for GraphQL errors or success messages\n   * @param {Object} response - The GraphQL response object with data, errors, and extensions properties\n   * @param {number} [duration=4000] - How long the toast should stay visible (ms)\n   * @returns {Object} - The data portion of the response\n   */\n  static handleResponse(response, duration = 4000) {\n    // Check if there are errors to display\n    if (response.errors && response.errors.length > 0) {\n      // Display each error as a separate toast\n      response.errors.forEach((error) => {\n        showToast({\n          type: \"error\",\n          message: error.message || \"An error occurred\",\n          duration,\n        });\n      });\n    } else if (response.extensions && response.extensions.successMessage) {\n      // Display success message if provided in extensions\n      showToast({\n        type: \"success\",\n        message: response.extensions.successMessage,\n        duration,\n      });\n    }\n\n    // Return the data part of the response\n    return response.data;\n  }\n\n  /**\n   * Add HTMX extension for GraphQL responses\n   */\n  static registerHtmxExtension() {\n    // Only add if HTMX is available\n    if (typeof htmx === \"undefined\") {\n      console.warn(\"HTMX not found, GraphQL extension not loaded\");\n      return;\n    }\n\n    // Register the HTMX extension\n    htmx.defineExtension(\"graphql-toast\", {\n      onEvent: function (name, evt) {\n        // Handle JSON responses for HTMX requests\n        if (name === \"htmx:configRequest\") {\n          evt.detail.headers[\"Accept\"] = \"application/json\";\n          // Add all the params to the request\n          const params = new URLSearchParams(document.location.search);\n          for (const [key, value] of params.entries()) {\n            evt.detail.parameters[key] = value;\n          }\n        }\n\n        if (name === \"htmx:beforeRequest\") {\n          FormErrorHandler.clearErrors();\n        }\n\n        if (name === \"htmx:beforeSwap\") {\n          const xhr = evt.detail.xhr;\n\n          // Check if this is a JSON response\n          if (\n            xhr.getResponseHeader(\"Content-Type\")?.includes(\"application/json\")\n          ) {\n            try {\n              // Parse JSON response\n              const response = JSON.parse(xhr.responseText);\n\n              // Check if this looks like a GraphQL response (has data or errors)\n              if (\n                response &&\n                (response.data !== undefined || response.errors)\n              ) {\n                // Handle the GraphQL response notifications\n                GraphQLToastHandler.handleResponse(response);\n\n                // Check if there's HTML in the extensions\n                if (response.extensions && response.extensions.html) {\n                  // Use the HTML from extensions for the swap\n                  evt.detail.serverResponse = response.extensions.html;\n                } else if (!response.data && response.errors) {\n                  // If there's an error but no HTML or data, prevent the swap\n                  evt.detail.shouldSwap = false;\n                  return true;\n                }\n\n                if (response.extensions && response.extensions.errors) {\n                  FormErrorHandler.handleErrors(response.extensions);\n                }\n              }\n            } catch (e) {\n              console.error(\"Error processing JSON response:\", e);\n            }\n          }\n        }\n      },\n    });\n  }\n}\n","import { ToastElement } from \"./components/toast/toast.js\";\nimport { ThemeToggle } from \"./components/theme-toggle/theme-toggle.js\";\nimport { LucideIcon } from \"./components/icons/lucide-icon.js\";\nimport { GraphQLToastHandler, FormErrorHandler } from \"./components/forms.js\";\n\n// The main initialization function\nasync function initialize() {\n  // prevent content flashing\n  document.body.style.opacity = 0;\n\n  try {\n    // 1. Load and apply Pico CSS\n    // const picoResponse = await fetch(\n    //   \"https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css\",\n    // );\n    // const picoCSS = await picoResponse.text();\n\n    // const picoStyleSheet = new CSSStyleSheet();\n    // picoStyleSheet.replaceSync(picoCSS);\n    // document.adoptedStyleSheets = [picoStyleSheet];\n\n    // 2. Add your custom styles\n    const customStyleSheet = new CSSStyleSheet();\n    customStyleSheet.replaceSync(`\n      :root {\n        --toast-border-radius: 8px;\n        /* More custom variables... */\n      }\n    `);\n\n    // 3. Apply stylesheets to document\n    document.adoptedStyleSheets = [customStyleSheet];\n\n    // 4. Register web components if not already registered\n    if (!customElements.get(\"toast-element\")) {\n      customElements.define(\"toast-element\", ToastElement);\n    }\n\n    if (!customElements.get(\"theme-toggle\")) {\n      customElements.define(\"theme-toggle\", ThemeToggle);\n    }\n\n    if (!customElements.get(\"lucide-icon\")) {\n      customElements.define(\"lucide-icon\", LucideIcon);\n    }\n\n    // 5. Register HTMX plugin if HTMX is available\n    if (window.htmx) {\n      GraphQLToastHandler.registerHtmxExtension();\n    }\n\n    // Show the document\n    document.body.style.opacity = 1;\n\n    return true;\n  } catch (error) {\n    console.error(\"UI Library initialization failed:\", error);\n    // Show the document\n    document.body.style.opacity = 1;\n    return false;\n  }\n}\n\n// Expose library API\nconst UILibrary = {\n  initialize,\n  ToastElement,\n  ThemeToggle,\n  GraphQLToastHandler,\n  FormErrorHandler,\n};\n\n// Auto-initialize when DOM is ready\nif (document.readyState === \"loading\") {\n  document.addEventListener(\"DOMContentLoaded\", initialize);\n} else {\n  initialize();\n}\n\n// Export for module usage\nexport default UILibrary;\n\n// Export for global usage\nwindow.UILibrary = UILibrary;\n"],"names":[],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,cAAc,CAAC,IAAI,EAAE;AACrC,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC;AACrD,EAAE,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,EAAE;AAClC,EAAE,OAAO,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,YAAY,CAAC,UAAU,EAAE,UAAU,EAAE;AACrD,EAAE,MAAM,QAAQ,GAAG,cAAc,CAAC,UAAU,CAAC;AAC7C,EAAE,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC;AAClC,EAAE,OAAO,QAAQ;AACjB;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,WAAW,CAAC,UAAU,EAAE,SAAS,EAAE,cAAc,GAAG,EAAE,EAAE;AACxE,EAAE,IAAI;AACN;AACA,IAAI;AACJ,MAAM,EAAE,eAAe,IAAI,MAAM,CAAC;AAClC,MAAM,EAAE,aAAa,IAAI,aAAa,CAAC,SAAS;AAChD,MAAM;AACN,MAAM,OAAO,KAAK;AAClB;;AAEA;AACA,IAAI,MAAM,cAAc,GAAG,IAAI,aAAa,EAAE;AAC9C,IAAI,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC;;AAEzC;AACA,IAAI,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;AACnC,MAAM,UAAU,CAAC,kBAAkB,GAAG,CAAC,GAAG,cAAc,EAAE,cAAc,CAAC;AACzE,KAAK,MAAM;AACX;AACA,MAAM,UAAU,CAAC,kBAAkB,GAAG,CAAC,cAAc,CAAC;AACtD;;AAEA,IAAI,OAAO,IAAI;AACf,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK;AACjB,MAAM,uDAAuD;AAC7D,MAAM,KAAK;AACX,KAAK;AACL,IAAI,OAAO,KAAK;AAChB;AACA;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,YAAY,SAAS,WAAW,CAAC;AAC9C,EAAE,WAAW,GAAG;AAChB,IAAI,KAAK,EAAE;;AAEX;AACA,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;AAEvC;AACA,IAAI,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,WAAW,EAAE,QAAQ,CAAC,kBAAkB,CAAC;AAC1E,IAAI,YAAY,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC;;AAEhD;AACA,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI;AACzB,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI;AACzB,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI;AACxB,IAAI,IAAI,CAAC,KAAK,GAAG,YAAY;;AAE7B;AACA,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC;AACnE,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC;AAClE,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC;;AAElE;AACA,IAAI,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;AACjE;;AAEA;AACA;AACA;AACA,EAAE,WAAW,kBAAkB,GAAG;AAClC,IAAI,OAAO,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,WAAW,CAAC;AACvD;;AAEA;AACA;AACA;AACA,EAAE,iBAAiB,GAAG;AACtB;AACA,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE;AACtC,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;AACpE;;AAEA,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;AACnC,MAAM,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;AAC3C,KAAK,MAAM;AACX;AACA,MAAM,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;AACpC;AACA,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC;AAClC;;AAEA,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE;AACvC,MAAM,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC;AAClE;;AAEA,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE;AACxC,MAAM,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,OAAO;AACjE;AACA;;AAEA;AACA;AACA;AACA,EAAE,wBAAwB,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE;AACrD,IAAI,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC,cAAc,EAAE;AACnD,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,QAAQ;AAChD,KAAK,MAAM,IAAI,IAAI,KAAK,MAAM,IAAI,QAAQ,EAAE;AAC5C,MAAM,IAAI,CAAC,IAAI,GAAG,QAAQ;AAC1B,KAAK,MAAM,IAAI,IAAI,KAAK,UAAU,IAAI,QAAQ,EAAE;AAChD,MAAM,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC;AAC7C,KAAK,MAAM,IAAI,IAAI,KAAK,WAAW,EAAE;AACrC,MAAM,IAAI,CAAC,SAAS,GAAG,QAAQ,KAAK,OAAO;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE;AACpB,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;AAC1B;AACA,MAAM,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,IAAI,MAAM;AAC3D,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC;AACrD,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,EAAE,QAAQ,CAAC;AACxD;AACA;;AAEA;AACA;AACA;AACA,EAAE,IAAI,IAAI,GAAG;AACb,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;AAC3C;;AAEA;AACA;AACA;AACA,EAAE,IAAI,IAAI,CAAC,KAAK,EAAE;AAClB,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;AACpB,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;AACvC;;AAEA,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AACjC,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;;AAElC;AACA,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;AAC3B;;AAEA;AACA;AACA;AACA,EAAE,IAAI,OAAO,GAAG;AAChB,IAAI,OAAO,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,EAAE;AACrE;;AAEA;AACA;AACA;AACA,EAAE,IAAI,OAAO,CAAC,KAAK,EAAE;AACrB,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;AAC7B,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,KAAK;AAC7C;AACA;;AAEA;AACA;AACA;AACA,EAAE,IAAI,QAAQ,GAAG;AACjB,IAAI,OAAO,IAAI,CAAC,SAAS;AACzB;;AAEA;AACA;AACA;AACA,EAAE,IAAI,QAAQ,CAAC,KAAK,EAAE;AACtB,IAAI,IAAI,CAAC,SAAS,GAAG,KAAK;AAC1B;;AAEA;AACA;AACA;AACA,EAAE,IAAI,QAAQ,GAAG;AACjB,IAAI,OAAO,IAAI,CAAC,SAAS;AACzB;;AAEA;AACA;AACA;AACA,EAAE,IAAI,QAAQ,CAAC,KAAK,EAAE;AACtB,IAAI,IAAI,CAAC,SAAS,GAAG,KAAK;AAC1B;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAAI,GAAG;AACT,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE,OAAO,IAAI;;AAElC,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI;AACxB,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;;AAEjC;AACA,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,aAAa,CAAC,CAAC;;AAEtD;AACA,IAAI,IAAI,CAAC,oBAAoB,EAAE;;AAE/B,IAAI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE;AAC9C,MAAM,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,MAAM;AACvC,QAAQ,IAAI,CAAC,IAAI,EAAE;AACnB,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC;AACxB;;AAEA,IAAI,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAAI,GAAG;AACT,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,IAAI;;AAEnC,IAAI,IAAI,CAAC,QAAQ,GAAG,KAAK;AACzB,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC;;AAEpC,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE;AACvB,MAAM,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC;AACjC,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI;AAC1B;;AAEA;AACA,IAAI,UAAU,CAAC,MAAM;AACrB;AACA,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,cAAc,CAAC,CAAC;;AAEzD;AACA,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE;AAC3B,QAAQ,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;AACzC;;AAEA;AACA,MAAM,IAAI,CAAC,oBAAoB,EAAE;AACjC,KAAK,EAAE,GAAG,CAAC,CAAC;;AAEZ,IAAI,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA;AACA,EAAE,oBAAoB,GAAG;AACzB,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,gBAAgB,CAAC,eAAe,CAAC;AAC7D,IAAI,MAAM,kBAAkB,GAAG,EAAE,CAAC;AAClC,IAAI,IAAI,gBAAgB,GAAG,CAAC;;AAE5B;AACA;AACA,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM;AACrB,OAAO,OAAO;AACd,OAAO,OAAO,CAAC,CAAC,KAAK,KAAK;AAC1B;AACA,QAAQ,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,EAAE,GAAG,gBAAgB,CAAC,EAAE,CAAC;AACzD,QAAQ,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM;;AAElC;AACA,QAAQ,gBAAgB,IAAI,KAAK,CAAC,YAAY,GAAG,kBAAkB;AACnE,OAAO,CAAC;AACR;AACA;;AAEA;AACO,SAAS,SAAS,CAAC,OAAO,GAAG,EAAE,EAAE;AACxC,EAAE,MAAM;AACR,IAAI,OAAO,GAAG,EAAE;AAChB,IAAI,IAAI,GAAG,MAAM;AACjB,IAAI,QAAQ,GAAG,IAAI;AACnB,IAAI,QAAQ,GAAG,IAAI;AACnB,GAAG,GAAG,OAAO;;AAEb,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC;AACvD,EAAE,KAAK,CAAC,OAAO,GAAG,OAAO;AACzB,EAAE,KAAK,CAAC,IAAI,GAAG,IAAI;AACnB,EAAE,KAAK,CAAC,QAAQ,GAAG,QAAQ;AAC3B,EAAE,KAAK,CAAC,QAAQ,GAAG,QAAQ;;AAE3B,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;AAClC,EAAE,KAAK,CAAC,IAAI,EAAE;;AAEd,EAAE,KAAK,CAAC,gBAAgB,CAAC,cAAc,EAAE,MAAM;AAC/C,IAAI,UAAU,CAAC,MAAM;AACrB,MAAM,IAAI,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AACzC,QAAQ,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;AACxC;AACA,KAAK,EAAE,GAAG,CAAC;AACX,GAAG,CAAC;;AAEJ,EAAE,OAAO,KAAK;AACd;;AAEA;AACA,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,OAAO,EAAE;AACrD,EAAE,MAAM,CAAC,OAAO,GAAG,EAAE,YAAY,EAAE,SAAS,EAAE;AAC9C;;AAEA;AACA,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AACnC,EAAE,MAAM,CAAC,YAAY,GAAG,YAAY;AACpC,EAAE,MAAM,CAAC,SAAS,GAAG,SAAS;AAC9B;;;;;;ACzRO,MAAM,WAAW,SAAS,WAAW,CAAC;AAC7C,EAAE,WAAW,GAAG;AAChB,IAAI,KAAK,EAAE;AACX,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;AACvC;AACA,IAAI,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,YAAY,EAAE,QAAQ,CAAC,kBAAkB,CAAC;AAC3E,IAAI,YAAY,CAAC,cAAc,EAAE,IAAI,CAAC,UAAU,CAAC;AACjD,IAAI,IAAI,CAAC,eAAe,EAAE;AAC1B;;AAEA,EAAE,eAAe,GAAG;AACpB;AACA,IAAI,MAAM,UAAU,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC;;AAEpD,IAAI,IAAI,UAAU,EAAE;AACpB,MAAM,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,YAAY,EAAE,UAAU,CAAC;AACrE,KAAK,MAAM;AACX;AACA,MAAM,MAAM,WAAW,GAAG,MAAM,CAAC,UAAU;AAC3C,QAAQ,8BAA8B;AACtC,OAAO,CAAC,OAAO;AACf,MAAM,QAAQ,CAAC,eAAe,CAAC,YAAY;AAC3C,QAAQ,YAAY;AACpB,QAAQ,WAAW,GAAG,MAAM,GAAG,OAAO;AACtC,OAAO;AACP,MAAM,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,WAAW,GAAG,MAAM,GAAG,OAAO,CAAC;AACnE;;AAEA;AACA,IAAI;AACJ,OAAO,UAAU,CAAC,8BAA8B;AAChD,OAAO,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK;AACzC,QAAQ,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;AAC5C,UAAU,MAAM,QAAQ,GAAG,CAAC,CAAC,OAAO,GAAG,MAAM,GAAG,OAAO;AACvD,UAAU,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,YAAY,EAAE,QAAQ,CAAC;AACvE;AACA,OAAO,CAAC;AACR;;AAEA,EAAE,cAAc,GAAG;AACnB,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,SAAS,CAAC;AAC3D,IAAI,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;AAC3C,MAAM,MAAM,MAAM;AAClB,QAAQ,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,YAAY,CAAC,KAAK,MAAM;AACtE,MAAM,QAAQ,CAAC,eAAe,CAAC,YAAY;AAC3C,QAAQ,YAAY;AACpB,QAAQ,MAAM,GAAG,OAAO,GAAG,MAAM;AACjC,OAAO;;AAEP;AACA,MAAM,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,GAAG,OAAO,GAAG,MAAM,CAAC;AAC9D,KAAK,CAAC;AACN;;AAEA,EAAE,iBAAiB,GAAG;AACtB,IAAI,IAAI,CAAC,cAAc,EAAE;AACzB;AACA;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,KAAK,GAAG;AACd,EAAE,IAAI,EAAE,oIAAoI;AAC5I,EAAE,IAAI,EAAE,sHAAsH;AAC9H,EAAE,QAAQ;AACV,IAAI,sKAAsK;AAC1K,EAAE,IAAI,EAAE,gDAAgD;AACxD,EAAE,GAAG,EAAE,mPAAmP;AAC1P;AACA,EAAE,OAAO;AACT,IAAI,0GAA0G;AAC9G,EAAE,IAAI,EAAE,qIAAqI;AAC7I,EAAE,OAAO;AACT,IAAI,wMAAwM;AAC5M,EAAE,KAAK;AACP,IAAI,gIAAgI;AACpI,EAAE,CAAC,EAAE,wFAAwF;AAC7F,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,UAAU,SAAS,WAAW,CAAC;AAC5C,EAAE,WAAW,GAAG;AAChB,IAAI,KAAK,EAAE;AACX,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;AAEvC;AACA,IAAI,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,EAAE,QAAQ,CAAC,kBAAkB,CAAC;AACzE,IAAI,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC;;AAE/C;AACA,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC;AAC1D;;AAEA,EAAE,WAAW,kBAAkB,GAAG;AAClC,IAAI,OAAO,CAAC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC;AAC/C;;AAEA,EAAE,iBAAiB,GAAG;AACtB,IAAI,IAAI,CAAC,MAAM,EAAE;AACjB;;AAEA,EAAE,wBAAwB,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE;AACrD,IAAI,IAAI,QAAQ,KAAK,QAAQ,EAAE;AAC/B,MAAM,IAAI,CAAC,MAAM,EAAE;AACnB;AACA;;AAEA,EAAE,MAAM,GAAG;AACX,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;AAC1C,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;AAC5C,IAAI,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE;;AAEtC;AACA,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;AACzB,MAAM,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,QAAQ;;AAE1C;AACA,MAAM,IAAI,KAAK,EAAE;AACjB,QAAQ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK;AAC3C,OAAO,MAAM;AACb,QAAQ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE;AACxC;AACA;AACA;AACA;;AC9EA;AACO,MAAM,gBAAgB,CAAC;AAC9B;AACA;AACA;AACA;AACA,EAAE,OAAO,YAAY,CAAC,aAAa,EAAE;AACrC;AACA,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;AACjD,MAAM,OAAO,CAAC,KAAK,CAAC,+BAA+B,CAAC;AACpD,MAAM;AACN;;AAEA;AACA,IAAI,gBAAgB,CAAC,WAAW,EAAE;;AAElC;AACA,IAAI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,KAAK;AAC3D,MAAM,MAAM,UAAU,GAAG,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC;;AAEtD;AACA,MAAM,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AACpC,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;AAC5C,UAAU,OAAO,CAAC,IAAI,CAAC,uBAAuB,EAAE,KAAK,CAAC;AACtD,UAAU;AACV;;AAEA;AACA,QAAQ,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK;AACrC,QAAQ,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;;AAE5E,QAAQ,IAAI,CAAC,YAAY,EAAE;AAC3B,UAAU,OAAO,CAAC,IAAI;AACtB,YAAY,CAAC,yBAAyB,EAAE,KAAK,CAAC,KAAK,CAAC,kCAAkC,CAAC;AACvF,WAAW;;AAEX;AACA,UAAU,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa;AACpD,YAAY,CAAC,WAAW,EAAE,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,qBAAqB,EAAE,OAAO,CAAC,EAAE,CAAC;AACvF,WAAW;AACX,UAAU,IAAI,CAAC,WAAW,EAAE;AAC5B;AACA,YAAY,MAAM,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC;AAClE,YAAY,IAAI,CAAC,aAAa,EAAE;AAChC,cAAc,OAAO,CAAC,KAAK;AAC3B,gBAAgB,CAAC,gCAAgC,EAAE,OAAO,CAAC,OAAO,CAAC;AACnE,eAAe;AACf,cAAc;AACd;;AAEA;AACA,YAAY,gBAAgB,CAAC,QAAQ,CAAC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC;AACnE,YAAY;AACZ;;AAEA;AACA,UAAU,gBAAgB,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC;AAC/D,UAAU;AACV;;AAEA;AACA,QAAQ,MAAM,aAAa,GAAG,YAAY,CAAC,aAAa;AACxD,QAAQ,IAAI,CAAC,aAAa,EAAE;AAC5B,UAAU,OAAO,CAAC,IAAI;AACtB,YAAY,CAAC,0BAA0B,EAAE,KAAK,CAAC,KAAK,CAAC,mCAAmC,CAAC;AACzF,WAAW;AACX,UAAU,gBAAgB,CAAC,QAAQ,CAAC,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC;AAChE,UAAU;AACV;;AAEA;AACA,QAAQ,gBAAgB,CAAC,QAAQ,CAAC,aAAa,EAAE,KAAK,CAAC,OAAO,CAAC;AAC/D,OAAO,CAAC;AACR,KAAK,CAAC;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,QAAQ,CAAC,OAAO,EAAE,OAAO,EAAE;AACpC;AACA,IAAI,MAAM,YAAY;AACtB,MAAM,OAAO,CAAC,OAAO,KAAK;AAC1B,UAAU;AACV,UAAU,OAAO,CAAC,aAAa,CAAC,yBAAyB,CAAC;;AAE1D,IAAI,IAAI,YAAY,EAAE;AACtB;AACA,MAAM,YAAY,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC;;AAEvD;AACA,MAAM,MAAM,QAAQ,GAAG,CAAC,EAAE,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC;AACpD,MAAM,YAAY,CAAC,YAAY,CAAC,kBAAkB,EAAE,QAAQ,CAAC;;AAE7D;AACA,MAAM,IAAI,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC;;AAE3D;AACA,MAAM,IAAI,CAAC,aAAa,EAAE;AAC1B,QAAQ,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;AACvD,QAAQ,aAAa,CAAC,EAAE,GAAG,QAAQ;;AAEnC;AACA,QAAQ,IAAI,YAAY,CAAC,kBAAkB,EAAE;AAC7C,UAAU,YAAY,CAAC,UAAU,CAAC,YAAY;AAC9C,YAAY,aAAa;AACzB,YAAY,YAAY,CAAC,kBAAkB;AAC3C,WAAW;AACX,SAAS,MAAM;AACf,UAAU,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC;AAC5D;AACA;;AAEA;AACA,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,EAAE;AAC/C,QAAQ,aAAa,CAAC,OAAO,CAAC,YAAY,GAAG,aAAa,CAAC,WAAW;AACtE;;AAEA;AACA,MAAM,aAAa,CAAC,WAAW,GAAG,OAAO;AACzC,KAAK,MAAM;AACX;AACA,MAAM,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC;AAClD,MAAM,QAAQ,CAAC,SAAS,GAAG,eAAe;AAC1C,MAAM,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC;AAC5C,MAAM,QAAQ,CAAC,WAAW,GAAG,OAAO;;AAEpC;AACA,MAAM,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC;AAC/B;AACA;;AAEA;AACA;AACA;AACA,EAAE,OAAO,WAAW,GAAG;AACvB;AACA,IAAI,QAAQ,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AAC1E;AACA;AACA,MAAM,KAAK,CAAC,eAAe,CAAC,cAAc,CAAC;;AAE3C;AACA,MAAM,MAAM,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,kBAAkB,CAAC;AAC7D,MAAM,IAAI,QAAQ,EAAE;AACpB,QAAQ,MAAM,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC;AAC/D,QAAQ,IAAI,aAAa,IAAI,aAAa,CAAC,OAAO,CAAC,YAAY,EAAE;AACjE;AACA,UAAU,aAAa,CAAC,WAAW,GAAG,aAAa,CAAC,OAAO,CAAC,YAAY;AACxE,UAAU,OAAO,aAAa,CAAC,OAAO,CAAC,YAAY;AACnD;AACA;AACA,KAAK,CAAC;;AAEN;AACA,IAAI,QAAQ,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;AACpE,MAAM,MAAM,CAAC,MAAM,EAAE;AACrB,KAAK,CAAC;AACN;AACA;;AAEA;AACO,MAAM,mBAAmB,CAAC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,cAAc,CAAC,QAAQ,EAAE,QAAQ,GAAG,IAAI,EAAE;AACnD;AACA,IAAI,IAAI,QAAQ,CAAC,MAAM,IAAI,QAAQ,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AACvD;AACA,MAAM,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AACzC,QAAQ,SAAS,CAAC;AAClB,UAAU,IAAI,EAAE,OAAO;AACvB,UAAU,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,mBAAmB;AACvD,UAAU,QAAQ;AAClB,SAAS,CAAC;AACV,OAAO,CAAC;AACR,KAAK,MAAM,IAAI,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,UAAU,CAAC,cAAc,EAAE;AAC1E;AACA,MAAM,SAAS,CAAC;AAChB,QAAQ,IAAI,EAAE,SAAS;AACvB,QAAQ,OAAO,EAAE,QAAQ,CAAC,UAAU,CAAC,cAAc;AACnD,QAAQ,QAAQ;AAChB,OAAO,CAAC;AACR;;AAEA;AACA,IAAI,OAAO,QAAQ,CAAC,IAAI;AACxB;;AAEA;AACA;AACA;AACA,EAAE,OAAO,qBAAqB,GAAG;AACjC;AACA,IAAI,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;AACrC,MAAM,OAAO,CAAC,IAAI,CAAC,8CAA8C,CAAC;AAClE,MAAM;AACN;;AAEA;AACA,IAAI,IAAI,CAAC,eAAe,CAAC,eAAe,EAAE;AAC1C,MAAM,OAAO,EAAE,UAAU,IAAI,EAAE,GAAG,EAAE;AACpC;AACA,QAAQ,IAAI,IAAI,KAAK,oBAAoB,EAAE;AAC3C,UAAU,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,kBAAkB;AAC3D;AACA,UAAU,MAAM,MAAM,GAAG,IAAI,eAAe,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;AACtE,UAAU,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,EAAE,EAAE;AACvD,YAAY,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,KAAK;AAC9C;AACA;;AAEA,QAAQ,IAAI,IAAI,KAAK,oBAAoB,EAAE;AAC3C,UAAU,gBAAgB,CAAC,WAAW,EAAE;AACxC;;AAEA,QAAQ,IAAI,IAAI,KAAK,iBAAiB,EAAE;AACxC,UAAU,MAAM,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG;;AAEpC;AACA,UAAU;AACV,YAAY,GAAG,CAAC,iBAAiB,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,kBAAkB;AAC9E,YAAY;AACZ,YAAY,IAAI;AAChB;AACA,cAAc,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC;;AAE3D;AACA,cAAc;AACd,gBAAgB,QAAQ;AACxB,iBAAiB,QAAQ,CAAC,IAAI,KAAK,SAAS,IAAI,QAAQ,CAAC,MAAM;AAC/D,gBAAgB;AAChB;AACA,gBAAgB,mBAAmB,CAAC,cAAc,CAAC,QAAQ,CAAC;;AAE5D;AACA,gBAAgB,IAAI,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,UAAU,CAAC,IAAI,EAAE;AACrE;AACA,kBAAkB,GAAG,CAAC,MAAM,CAAC,cAAc,GAAG,QAAQ,CAAC,UAAU,CAAC,IAAI;AACtE,iBAAiB,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,MAAM,EAAE;AAC9D;AACA,kBAAkB,GAAG,CAAC,MAAM,CAAC,UAAU,GAAG,KAAK;AAC/C,kBAAkB,OAAO,IAAI;AAC7B;;AAEA,gBAAgB,IAAI,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,UAAU,CAAC,MAAM,EAAE;AACvE,kBAAkB,gBAAgB,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC;AACpE;AACA;AACA,aAAa,CAAC,OAAO,CAAC,EAAE;AACxB,cAAc,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,CAAC,CAAC;AACjE;AACA;AACA;AACA,OAAO;AACP,KAAK,CAAC;AACN;AACA;;ACpQA;AACA,eAAe,UAAU,GAAG;AAC5B;AACA,EAAE,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC;;AAEjC,EAAE,IAAI;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI,MAAM,gBAAgB,GAAG,IAAI,aAAa,EAAE;AAChD,IAAI,gBAAgB,CAAC,WAAW,CAAC;AACjC;AACA;AACA;AACA;AACA,IAAI,CAAC,CAAC;;AAEN;AACA,IAAI,QAAQ,CAAC,kBAAkB,GAAG,CAAC,gBAAgB,CAAC;;AAEpD;AACA,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE;AAC9C,MAAM,cAAc,CAAC,MAAM,CAAC,eAAe,EAAE,YAAY,CAAC;AAC1D;;AAEA,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE;AAC7C,MAAM,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE,WAAW,CAAC;AACxD;;AAEA,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE;AAC5C,MAAM,cAAc,CAAC,MAAM,CAAC,aAAa,EAAE,UAAU,CAAC;AACtD;;AAEA;AACA,IAAI,IAAI,MAAM,CAAC,IAAI,EAAE;AACrB,MAAM,mBAAmB,CAAC,qBAAqB,EAAE;AACjD;;AAEA;AACA,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC;;AAEnC,IAAI,OAAO,IAAI;AACf,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,mCAAmC,EAAE,KAAK,CAAC;AAC7D;AACA,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC;AACnC,IAAI,OAAO,KAAK;AAChB;AACA;;AAEA;AACK,MAAC,SAAS,GAAG;AAClB,EAAE,UAAU;AACZ,EAAE,YAAY;AACd,EAAE,WAAW;AACb,EAAE,mBAAmB;AACrB,EAAE,gBAAgB;AAClB;;AAEA;AACA,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,EAAE;AACvC,EAAE,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,UAAU,CAAC;AAC3D,CAAC,MAAM;AACP,EAAE,UAAU,EAAE;AACd;;AAKA;AACA,MAAM,CAAC,SAAS,GAAG,SAAS;;;;"}